{"version":3,"sources":["../../js/logic.js"],"names":["Detector","webgl","addGetWebGLMessage","OriginalImg","SegmentImg","mouse","THREE","Vector2","raycaster","Raycaster","mousePressed","init","animate","filename","idDiv","console","log","document","addEventListener","onDocumentMouseDown","onDocumentMouseUp","event","x","clientX","window","innerWidth","y","clientY","innerHeight","setFromCamera","clone","camera","objects","intersectObjects","scene","children","requestAnimationFrame"],"mappings":";;AAAA;;AAEA,IAAK,CAAEA,SAASC,KAAhB,EAAwBD,SAASE,kBAAT;;AAExB;AACA,IAAIC,oBAAJ;AAAA,IACIC,mBADJ;;AAGA,IAAIC,QAAQ,IAAIC,MAAMC,OAAV,EAAZ;AACA,IAAIC,YAAY,IAAIF,MAAMG,SAAV,EAAhB;AACA,IAAIC,eAAe,KAAnB;;AAIAC;AACAC;;AAGA;AACA,SAASD,IAAT,GACA;AACI,QAAIE,WAAW,4BAAf,CADJ,CACiD;AAC7C,QAAIC,QAAQ,UAAZ;AACAX,kBAAc,2BAAeW,KAAf,EAAsBD,QAAtB,CAAd;AACAV,gBAAYQ,IAAZ;AACAI,YAAQC,GAAR,CAAYb,WAAZ;;AAEAU,eAAW,sCAAX,CAPJ,CAOuD;AACnDC,YAAQ,SAAR;AACAV,iBAAa,2BAAeU,KAAf,EAAsBD,QAAtB,CAAb;AACAT,eAAWO,IAAX;AACH;;AAEDM,SAASC,gBAAT,CAA2B,WAA3B,EAAwCC,mBAAxC,EAA6D,KAA7D;AACAF,SAASC,gBAAT,CAA2B,SAA3B,EAAsCE,iBAAtC,EAAyD,KAAzD;;AAEA,SAASD,mBAAT,CAA8BE,KAA9B,EAAsC;AAClCX,mBAAe,IAAf;AACAL,UAAMiB,CAAN,GAAYD,MAAME,OAAN,GAAgBC,OAAOC,UAAzB,GAAwC,CAAxC,GAA4C,CAAtD;AACApB,UAAMqB,CAAN,GAAU,EAAIL,MAAMM,OAAN,GAAgBH,OAAOI,WAA3B,IAA2C,CAA3C,GAA+C,CAAzD;AACApB,cAAUqB,aAAV,CAAyBxB,MAAMyB,KAAN,EAAzB,EAAwC3B,YAAY4B,MAApD;AACA,QAAIC,UAAUxB,UAAUyB,gBAAV,CAA2B9B,YAAY+B,KAAZ,CAAkBC,QAA7C,CAAd;AACApB,YAAQC,GAAR,CAAYgB,OAAZ;AACH;AACD,SAASZ,iBAAT,CAA4BC,KAA5B,EAAoC;AAAEX,mBAAe,KAAf;AAAqB;;AAM3D,SAASE,OAAT,GAAmB;;AAGfwB,0BAAuBxB,OAAvB;AACAT,gBAAYS,OAAZ;AACAR,eAAWQ,OAAX;AAGH","file":"logic.js","sourcesContent":["import {InitCanvas} from \"./InitCanvas.js\";\r\n\r\nif ( ! Detector.webgl ) Detector.addGetWebGLMessage();\r\n\r\n// global variables for this scripts\r\nlet OriginalImg, \r\n    SegmentImg;\r\n\r\nvar mouse = new THREE.Vector2();\r\nvar raycaster = new THREE.Raycaster();\r\nvar mousePressed = false;\r\n\r\n\r\n\r\ninit();\r\nanimate();\r\n\r\n  \r\n// initilize the page\r\nfunction init ()\r\n{\r\n    let filename = \"models/nrrd/columna01.nrrd\"; // change your nrrd file\r\n    let idDiv = 'original';\r\n    OriginalImg = new InitCanvas(idDiv, filename );\r\n    OriginalImg.init();\r\n    console.log(OriginalImg);\r\n    \r\n    filename = \"models/nrrd/columnasegmentado01.nrrd\"; // change your nrrd file\r\n    idDiv = 'segment';\r\n    SegmentImg = new InitCanvas(idDiv, filename );\r\n    SegmentImg.init(); \r\n}\r\n\r\ndocument.addEventListener( 'mousedown', onDocumentMouseDown, false );\r\ndocument.addEventListener( 'mouseup', onDocumentMouseUp, false );\r\n\r\nfunction onDocumentMouseDown( event ) {\r\n    mousePressed = true;\r\n    mouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;\r\n    mouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;\r\n    raycaster.setFromCamera( mouse.clone(), OriginalImg.camera );\r\n    var objects = raycaster.intersectObjects(OriginalImg.scene.children);\r\n    console.log(objects);\r\n}\r\nfunction onDocumentMouseUp( event ) { mousePressed = false}\r\n\r\n\r\n\r\n\r\n\r\nfunction animate() {\r\n\r\n\r\n    requestAnimationFrame( animate );\r\n    OriginalImg.animate();\r\n    SegmentImg.animate();\r\n\r\n\r\n}   "]}